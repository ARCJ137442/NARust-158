//! * ğŸš©æ ¸å¿ƒé€»è¾‘ï¼šä¸€ä¸ªå‰æï¼Œå¤šä¸ªæ´¾ç”Ÿï¼Œå¤šæ–¹èšåˆ
//!   * å‰æï¼šé€šè¿‡å®ç°[`EvidenceReal`]å¾—åˆ°ã€ŒåŸºæœ¬æ“ä½œã€
//!   * æ´¾ç”Ÿï¼šé€šè¿‡å®ç°å„ç±»`XXXFunctions`å¾—åˆ°ã€Œæ´¾ç”Ÿæ“ä½œã€
//!   * èšåˆï¼šé€šè¿‡ç»Ÿä¸€çš„ã€Œè‡ªåŠ¨å®ç°ã€å¾—åˆ°ã€Œæ‰€æœ‰æ“ä½œæ±‡èšäºä¸€ä½“ã€çš„é™æ€åŠŸèƒ½å¢å¼ºï¼ˆçœŸå€¼å‡½æ•°@æ•°å€¼ï¼‰
//!     * ğŸ“Rustå…è®¸ã€Œåœ¨å¤–éƒ¨è°ƒç”¨ã€çœ‹ä¼¼æ²¡æœ‰å®ç°æ´¾ç”Ÿæ“ä½œçš„ç»“æ„ã€æ—¶ï¼Œå…è®¸ä½¿ç”¨ã€è‡ªåŠ¨å®ç°äº†çš„æ´¾ç”Ÿæ“ä½œã€ã€
//! * ğŸ•’æœ€åæ›´æ–°ï¼šã€2024-05-02 16:15:14ã€‘
//! TODO: æœ‰å¾…ä¸`ShortFloat`åˆå¹¶

use crate::global::Float;
use narsese::api::EvidentNumber;

/// ğŸ†•ã€å‰æã€‘æŠ½è±¡çš„ã€Œè¯æ®æ•°å€¼ã€ç‰¹å¾
/// * ğŸš©ã€2024-05-02 16:05:04ã€‘æ¬è¿è‡ª[`crate::entity::BudgetValue`]
/// * ğŸš©æ‰©å±•è‡ªã€Œè¯æ®å€¼ã€ï¼Œå¹¶ï¼ˆå¯ï¼‰å®éªŒæ€§åœ°ã€æ•æ·å¼€å‘åœ°ä¸ºä¹‹æ·»åŠ æ–¹æ³•
/// * ğŸš©ã€2024-05-02 16:03:35ã€‘ç›®å‰ç”¨äºå®éªŒæ€§æ·»åŠ ã€Œå¿…è¦å†…å®¹ã€
///   * ğŸ“Œè¿™äº›å†…å®¹åç»­å°†è¢«çº³å…¥[Narsese.rsçš„`api`æ¨¡å—](narsese::api)
/// * ğŸ’­ã€2024-05-02 00:46:02ã€‘äº¦æœ‰å¯èƒ½æ›¿ä»£OpenNARSçš„`nars.inference.UtilityFunctions`
/// * ğŸš©ã€2024-05-02 17:48:30ã€‘ç°åœ¨å…¨éƒ¨æŠ›å¼ƒåŸºäºã€Œä¸å¯å˜å¼•ç”¨ã€çš„è¿ç®—
///   * âš ï¸æ··åˆã€Œä¼ å¯å˜å¼•ç”¨ã€å’Œã€Œç›´æ¥ä¼ å€¼ã€çš„ä»£ç å°†è¿‡äºå†—æ‚ï¼ˆå¹¶ä¸”é€ æˆæ¥å£ä¸ç»Ÿä¸€ï¼‰
///   * ğŸ“Œåœ¨å®ç°äº†[`Copy`]ä¹‹åï¼Œå°†å€¼çš„å¤åˆ¶çœ‹ä½œæ˜¯ã€Œéšå¤„å¯ç”¨ã€çš„
pub trait EvidenceReal:
// * ğŸš©ã€2024-05-02 18:33:19ã€‘å°†`Ord`ä½œä¸ºåœ¨[`EvidentNumber`]ä¹‹ä¸Šçš„ã€Œé™„åŠ è¦æ±‚ã€ä¹‹ä¸€ï¼šéœ€è¦åœ¨ã€Œé¢„ç®—å€¼åˆå¹¶ã€ä½¿ç”¨ã€Œå–æœ€å¤§ã€æ–¹æ³•
    EvidentNumber + Copy + Ord
{
    // * ğŸš©ã€2024-05-02 18:47:49ã€‘ç°åœ¨éšç€ã€Œæ— éœ€æ”¯æŒ`to_float`æµ®ç‚¹è½¬æ¢ã€ä¸å†è¦æ±‚ï¼ˆâ†‘`TryFrom`åŒç†ï¼‰
    // /// * ğŸ“Œæ­¤å¤„å¯¹[`Error`](std::fmt::Error)çš„éœ€æ±‚ä»…ä»…åœ¨äº[`Result::unwrap`]éœ€è¦`Error: Debug`
    // /// * ğŸ¯ã€2024-05-02 12:17:19ã€‘å¼•å…¥ä»¥å…¼å®¹[`TryFrom`]çš„[`try_from`](TryFrom::try_from)
    // type TryFromError: std::error::Error;

    /// è½¬æ¢ä¸ºæµ®ç‚¹æ•°
    /// * ğŸš©ä½¿ç”¨ã€Œå…¨å±€æµ®ç‚¹æ•°ç±»å‹ã€
    /// * ğŸ¯ç”¨äºã€é¢„ç®—æ•°å€¼ä¸æ™®é€šæµ®ç‚¹æ•°ä¹‹é—´ã€‘ã€ä¸åŒçš„é¢„ç®—æ•°å€¼ä¹‹é—´ã€‘äº’ç›¸è½¬æ¢
    ///   * ğŸ“„ã€Œå‡ ä½•å‡å€¼ã€åœ¨æœ€åéœ€è¦ã€Œnæ¬¡å¼€æ ¹ã€
    ///   * ğŸ“„`w2c`å‡½æ•°éœ€è¦ä»å€¼åŸŸ $[0, 1]$ æ‰©å±•åˆ° $[0, +\infty)$
    ///   * ğŸ“„åœ¨`BudgetFunctions.distributeAmongLinks`ä¸­åˆéœ€è¦ç”¨åˆ°ã€Œæµ®ç‚¹å€¼è¿ç®—ã€
    fn to_float(&self) -> Float;

    /// æ¨¡æ‹ŸOpenNARS `ShortFloat.getValue`
    /// * ğŸ¯è·å–ã€Œæµ®ç‚¹å€¼ã€
    /// * ğŸš©ç›´æ¥é‡å®šå‘åˆ°[`Self::to_float`]
    #[inline(always)]
    fn value(&self) -> Float {
        self.to_float()
    }

    /// ä»æµ®ç‚¹åˆ°è‡ªèº«è½¬æ¢
    /// * âŒåœ¨å®ç°[`TryFrom`]æ—¶ï¼Œæ— æ³•é€šè¿‡[`From`]å®ç°ï¼šconflicting implementations of trait `std::convert::TryFrom<f64>` for type `entity::short_float::ShortFloat`
    /// * ğŸš©ã€2024-05-02 20:44:18ã€‘ç°åœ¨ä¸ºã€Œæ”¯æŒã€ä¸æµ®ç‚¹æ··åˆè¿ç®—ã€ã€é‡æ–°éœ€è¦ä¸æµ®ç‚¹çš„ç›¸äº’è½¬æ¢
    ///   * ğŸ“„`BudgetFunctions.distributeAmongLinks`
    ///
    /// ! âš ï¸ã€2024-05-02 20:44:24ã€‘å®æ„¿åœ¨ã€ŒèŒƒå›´è¶Šç•Œã€æ—¶ç›´æ¥panicï¼Œä¹Ÿè¦å‡è½»ä»£ç å™ªéŸ³
    fn from_float(value: Float) -> Self;

    /// è®¾ç½®å€¼
    /// * ğŸ“ã€2024-05-02 17:50:19ã€‘äº¦å¯ä½¿ç”¨[`Clone`]ä»å…¶å®ƒåœ°æ–¹ï¼ˆå°±åœ°ï¼‰æ‹·è´
    /// * ğŸš©ã€2024-05-02 17:50:33ã€‘ç›®å‰éšã€Œæ™®éä¼ å€¼ã€é‡‡å–ã€Œç›´æ¥èµ‹å€¼ã€çš„æ–¹æ³•
    #[inline(always)]
    fn set(&mut self, new_value: Self) {
        // self.clone_from(new_value)
        *self = new_value;
    }
}
